{"version":3,"sources":["meteor://ðŸ’»app/client/templates/lists-new.js"],"names":[],"mappings":"yBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/client/templates/lists-new.js","sourcesContent":["var ERRORS_KEY = 'signinErrors';\n\nTemplate.listNew.onCreated(function() {\n  Session.set(ERRORS_KEY, {});\n});\n\nTemplate.listNew.helpers({\n  // errorMessages: function() {\n  //   return _.values(Session.get(ERRORS_KEY));\n  // },\n  // errorClass: function(key) {\n  //   return Session.get(ERRORS_KEY)[key] && 'error';\n  // }\n});\n\nTemplate.listNew.events({\n  'submit': function(event, template) {\n    event.preventDefault();\n\n    // get accountEmails\n    var emails = template.$('[name=emails]').val();\n    var accountEmails = emails.split(',');\n\n    // get users from DB\n    users = [];\n    accountEmails.forEach(function(d) {\n      users.push(Meteor.users.find().fetch());\n    });\n    users = users[0];\n\n    // get user IDs from database\n    userIds = [];\n    users.forEach(function(user) {\n      if (accountEmails.indexOf(user.emails[0].address) != -1)\n      {\n        userIds.push(user._id);\n      }\n    });\n\n    // store group in database\n    if (userIds.length == accountEmails.length){\n      var group = {userIds: userIds, name: emails};\n      group._id = Lists.insert(group);\n\n      // goes to the list you just made\n      Router.go('listsShow', group);\n    }\n  }\n});\n"]}